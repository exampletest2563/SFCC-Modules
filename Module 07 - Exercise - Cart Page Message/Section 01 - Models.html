<h1>Getting Data with Models and Sending Data with ViewModels</h1>

<h2>Introduction</h2>

<p>We’ve discussed <strong>Controllers</strong>, <strong>Templates</strong>, and briefly mentioned <strong>ViewModels</strong> but without many details. Now, we will explore the differences between models and view models and explain why the SFRA architecture makes use of view models. It would be beneficial to have previous experience with the <strong>MVC</strong> pattern before diving deeper, so if you don’t have this experience, take a look at this <a href="https://www.freecodecamp.org/news/model-view-controller-mvc-explained-through-ordering-drinks-at-the-bar-efcba6255053/">link</a> before continuing.</p>

<p><strong>MVCVM</strong>: It’s mostly the same as the MVC pattern but with an additional layer called <strong>ViewModel</strong> (VM). In pure MVC, the <strong>Models</strong> usually represent our database tables. They are defined once and typically correspond to a table in the database. However, imagine that models can have dozens of fields. What are the chances you need all of them on a page? And consider how much unused data is being sent to the page. The more data we send, the longer the loading time. Instead, we create what we call <strong>ViewModels</strong>. To put it simply, <strong>ViewModels</strong> are objects we create specifically for the pages we want to render, containing only the data that a particular page needs.</p>
<img src="https://sfcclearning.com/wp-content/uploads/2023/01/mvcvm-pattern-sfra.png" alt="Description of image" style="border: 1px solid black;">

<img src="https://sfcclearning.com/wp-content/uploads/2023/01/sfcc-data-models.png" alt="Description of image" style="border: 1px solid black;">

<p><strong>CartModel</strong> is a customized model used to handle the data related to the shopping cart. It allows us to extend and manipulate the standard cart functionality provided by SFCC. For example, you might add custom attributes to track additional information about items in the cart or modify the way the cart calculates totals. The <strong>Cart Controller</strong>, on the other hand, manages the interactions between the cart model and the storefront. It handles requests from the user, updates the cart model accordingly, and ensures that the data is presented correctly in the view. By understanding how to extend and use these models and controllers, you can tailor the SFCC experience to better meet your business requirements.</p>

<img src="https://sfcclearning.com/wp-content/uploads/2023/01/storefront_base-models.png"style="border: 1px solid black;">

<img src="https://sfcclearning.com/wp-content/uploads/2023/01/cart-model.png" style="border: 1px solid black;">

<p>Did you notice that it receives the actual <strong>Basket</strong> as a parameter and adds more data when creating the model? To be sure this is really the Basket returned from the API, let’s check the <strong>Cart Controller</strong> that renders the Cart page:</p>
<img src="https://sfcclearning.com/wp-content/uploads/2023/01/cart-controller.png"style="border: 1px solid black;">

<p>In this case, it is indeed true that our <strong>Model</strong> and <strong>ViewModel</strong> are the same, as we have just confirmed. That being said, the advantage of having these models is that we can extend them according to our own needs. For example, if we need to retrieve more data, we can simply add it to the model, and whenever we call it, that data will be included. Keep in mind, however, that this might not always be the best approach. If you need this extra data only for one specific call, it might be a better idea to use <code>getViewData</code> and <code>setViewData</code> inside your controller instead.</p>
