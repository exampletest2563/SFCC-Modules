<h1>Introduction</h1>
<p>We are going to learn about two important SFCC features that allow us to persist and retrieve data from Business Manager. The first is called <strong>Objects</strong>, and there are two types: <strong>System</strong> and <strong>Custom</strong>. The second is called <strong>Site Preferences</strong>.</p>
<h1>Objects</h1>
<p> How do you think Business Manager stores <strong>Products</strong>, <strong>Catalogs</strong>, or <strong>Categories</strong>? How does the API work with them? </p>
<p> Previously, you worked with Controllers, calling classes from the <strong>SFCC API</strong> to retrieve data from Business Manager. The objects you manipulate are actually stored in Business Manager as tables. </p>
<h2>System Objects</h2>
<p> The first type of object that can be saved into Business Manager is called a <strong>System Object</strong>. But why are they called System Objects? It’s simpler than you might think: they come out-of-the-box when you receive your sandbox. </p>
<h3>System Object Types</h3>
<p> Let’s take a look at the System Objects provided out-of-the-box: Go to <strong>Administration > Development > System Objects Types</strong>. </p>
<p><img style="border: 1px solid black;" src="https://sfcclearning.com/wp-content/uploads/2023/01/system-object-types.png"></p>
<p> Do you recognize the items marked by the green arrows? These are some of the System Objects we've worked with in previous chapters. </p>
<h3>Check System Object Fields</h3>
<ul>
    <li>Go to <strong>Administration > Development > System Objects Types</strong>.</li>
    <li>Click on the <strong>Product</strong> item.</li>
    <li>Click on the <strong>Attribute Definitions</strong> tab.</li>
    <li>At the bottom, click <strong>Show All</strong>.</li>
</ul>
<p> As you can see, the <strong>Product</strong> object has almost 100 fields! But, as we recall from earlier modules, we didn’t see that many fields when editing products. So, what’s going on? </p>
<p> Although objects may have many fields, to avoid clutter, we limit which fields are displayed when creating or editing an object. If you check any Product, you’ll notice that only a portion of the available fields are visible. </p>
<h3>Check Displayed Fields in the Edit Page</h3>
<ul>
    <li>Go to <strong>Administration > Development > System Objects Types</strong>.</li>
    <li>Click on the <strong>Product</strong> item.</li>
    <li>Click on the <strong>Attribute Grouping</strong> tab.</li>
    <li>In the <strong>Name</strong> column, you’ll see groupings with a number representing the fields inside that group.</li>
    <li>Click on <strong>Search Engine Optimization Support</strong>: You’ll see four fields listed: <em>Page Title</em>, <em>Page Description</em>, <em>Page Keywords</em>, and <em>Page URL</em>.</li>
</ul>
<p> Now, open any Product and check if those same fields are listed under the <strong>Search Engine Optimization Support</strong> set. </p>
<h3>System Objects vs. Custom Objects: A Comparison</h3>
<p> <strong>System Objects</strong> come predefined with your <strong>SFCC sandbox</strong>. They serve common purposes like representing products, catalogs, and customer data. These objects cannot be modified structurally (i.e., you can’t add or remove object types), but you can customize how they behave and which fields are displayed. </p>
<p> <strong>Custom Objects</strong>, on the other hand, allow you to extend the capabilities of the platform. Think of them as a blank canvas where you can define your own table structure and fields. Custom Objects are perfect for scenarios where the built-in System Objects don’t meet your business needs. </p>
<p> <strong>Example:</strong> Let’s say you’re building a loyalty program. While you could attempt to squeeze loyalty points into the Customer System Object, it’s far more efficient to create a Custom Object specifically for loyalty points. This way, your loyalty program can evolve independently of the Customer data model, keeping everything organized. </p>
<h3>One Last Detail</h3>
<p> As we mentioned earlier, System Objects are out-of-the-box and cannot be created or removed. If you want a new object type, Custom Objects are the way to go. </p>
<h2>Custom Objects</h2>
<p> <strong>Custom Objects</strong> enable you to extend the Salesforce B2C Commerce model to suit your business needs. They function as new tables in the database, where you can specify the primary key and define storage attributes (columns). </p>
<h3>Custom Objects Creation</h3>
<p> An example of using Custom Objects is a newsletter subscription. While the platform doesn’t natively support this, Custom Objects allow you to build such functionality.  </p>
<p> You wouldn’t add newsletter subscription data to the <strong>Profile System Object</strong>, as that would limit sign-ups to registered users. Instead, you can create a <strong>Newsletter Custom Object</strong> to allow anyone to subscribe. </p>
<h3>Using Script API to Create Custom Object Instances</h3>
<p> The Salesforce B2C Commerce Cloud Script API provides classes in the <strong>dw.object</strong> package, such as: </p>
<ul>
    <li><strong>CustomAttributes:</strong> Custom attributes defined in Business Manager.</li>
    <li><strong>CustomObject:</strong> Represents a Custom Object instance.</li>
    <li><strong>CustomObjectMgr:</strong> Allows for Custom Object creation, retrieval, and deletion.</li>
</ul>
<p> Here’s an example of creating a Custom Object instance programmatically: </p>
<pre> CustomObjectMgr.createCustomObject("NewsletterSubscription", UUIDUtils.createUUID()); </pre>
<p> This code creates a Custom Object instance for a newsletter subscription with a system-generated unique primary key. </p>
<h2>Storage Scope and Replication</h2>
<p> Custom Objects can be scoped either by <strong>Organization</strong> or <strong>Site</strong>, defining their visibility. Additionally, you can specify if Custom Object instances should be replicable from staging to production. </p>
